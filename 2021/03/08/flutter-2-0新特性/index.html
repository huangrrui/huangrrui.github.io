<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com.cn","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com.cn/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-Hans","comments":true,"permalink":"http://example.com.cn/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/","path":"2021/03/08/flutter-2-0新特性/","title":"flutter 2.0新特性"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>flutter 2.0新特性 | 黄瑞的博客</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">黄瑞的博客</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Web"><span class="nav-number">1.</span> <span class="nav-text">一、Web</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E7%A9%BA%E5%AE%89%E5%85%A8%EF%BC%88Sound-Null-Safety%EF%BC%89"><span class="nav-number">2.</span> <span class="nav-text">二、空安全（Sound Null Safety）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81Desktop"><span class="nav-number">3.</span> <span class="nav-text">三、Desktop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81Platform-Adaptive-Apps-Flutter-Folio-Sample"><span class="nav-number">4.</span> <span class="nav-text">四、Platform Adaptive Apps: Flutter Folio Sample</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81Google-Mobile-Ads%EF%BC%88beta%EF%BC%89"><span class="nav-number">5.</span> <span class="nav-text">五、Google Mobile Ads（beta）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81iOS%E6%96%B0%E5%8A%9F%E8%83%BD"><span class="nav-number">6.</span> <span class="nav-text">六、iOS新功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B0%E5%A2%9E%E7%9A%84-Widget"><span class="nav-number">7.</span> <span class="nav-text">新增的 Widget</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E6%96%B0-Widget"><span class="nav-number">8.</span> <span class="nav-text">七、新 Widget</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E3%80%81Multiple-Flutter-instances-with-Add-to-App"><span class="nav-number">9.</span> <span class="nav-text">八、Multiple Flutter instances with Add-to-App</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="黄瑞"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">黄瑞</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">88</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://example.com.cn/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="黄瑞">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="黄瑞的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="flutter 2.0新特性 | 黄瑞的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          flutter 2.0新特性
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2021-03-08 20:48:52 / Modified: 20:48:00" itemprop="dateCreated datePublished" datetime="2021-03-08T20:48:52+08:00">2021-03-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Flutter 升级到了 2.0。有了很多新特性与改动，简单的总结了一下</p>
<h2 id="一、Web"><a href="#一、Web" class="headerlink" title="一、Web"></a>一、Web</h2><p>Web 支持已经移到 stable 分支，意味着我们可以尝试使用 Flutter 来开发 Web 端的程序了。<br>在 AS 中也可以看到，可以选择 Web 作为 target 。<br>详细内容可以参考 <a target="_blank" rel="noopener" href="https://medium.com/flutter/web-post-d6b84e83b425">https://medium.com/flutter/web-post-d6b84e83b425</a></p>
<h2 id="二、空安全（Sound-Null-Safety）"><a href="#二、空安全（Sound-Null-Safety）" class="headerlink" title="二、空安全（Sound Null Safety）"></a>二、空安全（Sound Null Safety）</h2><p>空安全是 Dart 2.12.0 引入的一个新特性，将 可空类型（nullable types）和 不可空类型（non-nullable types）区分开。（类似 Swift Optional Value）<br>Sound Null Safety 官方文档链接 <a target="_blank" rel="noopener" href="https://dart.dev/null-safety">https://dart.dev/null-safety</a></p>
<p>Dart 2.12 同时也将 Dart FFI（foreign function interface） 也移入了 stable 分支，通过它可以让 Dart 执行 C语言代码。这样来看，很多库例如 ffmpeg 可能以后也会有 Dart 版本了。<br>Dart 2.12 更新说明 <a target="_blank" rel="noopener" href="https://medium.com/dartlang/announcing-dart-2-12-499a6e689c87">https://medium.com/dartlang/announcing-dart-2-12-499a6e689c87</a></p>
<h2 id="三、Desktop"><a href="#三、Desktop" class="headerlink" title="三、Desktop"></a>三、Desktop</h2><p>Flutter Desktop（Windows，macOS，Linux） 虽然移至了 stable 中，但是相当于一个先行版本，更稳定的版本将在今年晚些放出。<br>you can think of it as a “beta snapshot” that previews the final stable release coming later this year.</p>
<p>想要在 macOS 下运行，首先查看是否配置了对应选项<br>执行 flutter config <br><img src="/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/1.jpg"><br>通过这些参数，开启对应端的 target。<br>查看输出是否有<br><img src="/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/2.jpg"><br>如果为空，执行 flutter config –enable-macos-desktop，然后 flutter devices 就会列出 macos 了。<br><img src="/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/3.png"><br>然后执行代码 flutter run -d macos<br><img src="/2021/03/08/flutter-2-0%E6%96%B0%E7%89%B9%E6%80%A7/4.jpg"><br>如果出现这种情况，说明没有生成对应的工程文件，需要执行一下<br>flutter create –platforms macos .<br>然后再执行<br>flutter run -d macos<br>即可成功运行</p>
<p>但如果你需要及时的获得更新或者 bug 修复，官方还是建议移至 beta 或者 dev 分支去。<br>However, if you choose to stay on the stable channel to access the desktop beta, you won’t get new features or bug fixes as quickly as switching to the beta or dev channels. So, if you’re actively targeting Windows, macOS, or Linux, we recommend switching to a channel that provides updates more quickly.</p>
<h2 id="四、Platform-Adaptive-Apps-Flutter-Folio-Sample"><a href="#四、Platform-Adaptive-Apps-Flutter-Folio-Sample" class="headerlink" title="四、Platform Adaptive Apps: Flutter Folio Sample"></a>四、Platform Adaptive Apps: Flutter Folio Sample</h2><p>现在 Flutter 支持六个端（包括 beta）iOS、Android、Web、Windows、macOS、Linux，如何才能为 App 做适配，让它支持<br>1）各种输入（鼠标，触摸、键盘）<br>2）不同屏幕尺寸<br>3）不同平台（手机，桌面，Web）<br>于是 Flutter 退出了 Folio 这个示例 App 供开发者学习<br>项目地址：<a target="_blank" rel="noopener" href="https://github.com/gskinnerTeam/flutter-folio">https://github.com/gskinnerTeam/flutter-folio</a></p>
<h2 id="五、Google-Mobile-Ads（beta）"><a href="#五、Google-Mobile-Ads（beta）" class="headerlink" title="五、Google Mobile Ads（beta）"></a>五、Google Mobile Ads（beta）</h2><h2 id="六、iOS新功能"><a href="#六、iOS新功能" class="headerlink" title="六、iOS新功能"></a>六、iOS新功能</h2><p>解决的重要 Issue<br>23495<br>67781<br>69809</p>
<h2 id="新增的-Widget"><a href="#新增的-Widget" class="headerlink" title="新增的 Widget"></a>新增的 Widget</h2><p>CupertinoSearchTextField<br>CupertinoFormSection<br>CupertinoFormRow<br>CupertinoTextFormFieldRow</p>
<h2 id="七、新-Widget"><a href="#七、新-Widget" class="headerlink" title="七、新 Widget"></a>七、新 Widget</h2><p>Autocomplete<br>ScaffoldMessenger</p>
<h2 id="八、Multiple-Flutter-instances-with-Add-to-App"><a href="#八、Multiple-Flutter-instances-with-Add-to-App" class="headerlink" title="八、Multiple Flutter instances with Add-to-App"></a>八、Multiple Flutter instances with Add-to-App</h2><p>创建多个 Flutter Instance 时，在过去，额外的 Flutter 实例消耗内存的数量与第一个一样，现在，额外的 Flutter 实例消耗内存的数量大大降低。<br>本以为有了 FlutterEngineGroup 这个类，通过 FlutterEngineGroup.makeNewEngine 实例化的 FlutterEngine 对象共享运行时环境，后来查看 Demo 发现，他们的运行时环境仍然是独立的。</p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/01/28/%E5%90%91-iOS-App-%E4%B8%AD%E6%B7%BB%E5%8A%A0-Flutter-%E7%95%8C%E9%9D%A2/" rel="prev" title="向 iOS App 中添加 Flutter 界面">
                  <i class="fa fa-chevron-left"></i> 向 iOS App 中添加 Flutter 界面
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/03/24/flutter-AnimatedList/" rel="next" title="flutter AnimatedList">
                  flutter AnimatedList <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">黄瑞</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





</body>
</html>
